import{u as P}from"./loading.5b8c1ce5.js";import{_ as A,a as M,b as g,r as N,e as t,y as T,f as v,l as E,g as e,w as a,q as O,z as R,d as S,k as u,A as F,B as G,M as H}from"./index.fee0a898.js";const J={class:"container"},K=u(" \u67E5\u8BE2 "),Q=u(" \u91CD\u7F6E "),W=u(" \u67E5\u770B "),X={name:"UserAction"},Y=Object.assign(X,{setup(Z){const h=M(),{loading:y,setLoading:p}=P(!0),m=g([]),s=g(""),i={current:1,pageSize:20},b={x:"120%",y:"100%"},f=N({...i}),r=async(n=i,c)=>{p(!0);try{const l=c===void 0?await F(n):await G(n,c);m.value=l.list,f.current=n.current,f.total=l.total}catch{}finally{p(!1)}},k=n=>{h.push(`/user/userDetail/${n}`)},w=()=>{s.value?r(i,s.value):H.warning("\u8BF7\u8F93\u5165\u7528\u6237\u7F16\u53F7")},C=n=>{r({...i,current:n})};r();const B=()=>{s.value="",r({...i})};return(n,c)=>{const l=t("Breadcrumb"),D=t("a-input"),x=t("a-col"),V=t("icon-search"),_=t("a-button"),z=t("icon-refresh"),I=t("a-space"),L=t("a-row"),U=t("a-divider"),o=t("a-table-column"),$=t("a-table"),j=t("a-card"),q=T("permission");return v(),E("div",J,[e(l,{items:["\u7528\u6237","\u7528\u6237\u7EC6\u67E5"]}),e(j,{class:"general-card",title:"\u7528\u6237\u7EC6\u67E5"},{default:a(()=>[e(L,{justify:"center"},{default:a(()=>[e(x,{span:12,style:{height:"'60px'"}},{default:a(()=>[e(D,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=d=>s.value=d),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u7F16\u53F7\uFF0C\u7CBE\u786E\u641C\u7D22\u7528\u6237\u884C\u4E3A\u8BB0\u5F55"},null,8,["modelValue"])]),_:1}),e(x,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(I,{direction:"vertical",size:18},{default:a(()=>[e(_,{type:"primary",onClick:w},{icon:a(()=>[e(V)]),default:a(()=>[K]),_:1}),e(_,{onClick:B},{icon:a(()=>[e(z)]),default:a(()=>[Q]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{style:{"margin-top":"20px"}}),e($,{"row-key":"id",loading:O(y),data:m.value,scroll:b,pagination:"",onPageChange:C},{columns:a(()=>[e(o,{title:"\u7528\u6237\u7F16\u53F7","table-layout-fixed":!0,"data-index":"_id.$oid",fixed:"left"}),e(o,{title:"\u8BBE\u5907","data-index":"device",ellipsis:!0}),e(o,{title:"\u5E73\u53F0","data-index":"os",ellipsis:!0}),e(o,{title:"\u7528\u6237IP\u5730\u5740","data-index":"ip",ellipsis:!0}),e(o,{title:"\u9875\u9762","data-index":"page",ellipsis:!0}),e(o,{title:"\u64CD\u4F5C","data-index":"operations",fixed:"right"},{cell:a(({record:d})=>[R((v(),S(_,{type:"text",size:"small",onClick:ee=>k(d._id.$oid)},{default:a(()=>[W]),_:2},1032,["onClick"])),[[q,["admin"]]])]),_:1})]),_:1},8,["loading","data"])]),_:1})])}}}),ne=A(Y,[["__scopeId","data-v-ba1fdb52"]]);export{ne as default};
