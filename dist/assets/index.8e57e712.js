import{s as y,_ as F,b as f,e as a,f as v,d as S,w as e,g as t,i as g,k as E,m as P,n as I,q as b,v as T,l as V}from"./index.63127a78.js";import{u as C}from"./loading.3f14fccc.js";import{u as k}from"./chartOption.eecf3459.js";import{E as N}from"./errorOverview.d84cafca.js";import"./errorData.935ce8f0.js";function U(){return y.get("/api/overview/pv")}function O(){return y.get("/api/overview/uv")}function z(){return y.get("/api/overview/useraction")}function j(){return y.get("/api/overview/uvamount")}function R(){return y.get("/api/overview/pvamount")}function W(){return y.get("/api/overview/stayduration")}const G={class:"content-wrap"},H={class:"content"},M={class:"desc"},Z=E(" \u8F83\u6628\u65E5 "),J={__name:"chainItem",props:{title:{type:String,default:""},quota:{type:String,default:""},chartType:{type:String,default:""},cardStyle:{type:Object,default:()=>({})}},setup(u){const _=u,{loading:p,setLoading:n}=C(!0),r=f();return(async()=>{n(!0);try{const c=_.quota==="PV"?await U():await O();r.value=c}catch{}finally{n(!1)}})(),(c,x)=>{const h=a("a-statistic"),i=a("a-typography-text"),d=a("icon-arrow-rise"),w=a("a-card"),o=a("a-spin");return v(),S(o,{loading:b(p),style:{width:"100%"}},{default:e(()=>[t(w,{bordered:!1,style:I(u.cardStyle)},{default:e(()=>[g("div",G,[g("div",H,[t(h,{title:u.title,value:r.value,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"]),g("div",M,[t(i,{type:"secondary",class:"label"},{default:e(()=>[Z]),_:1}),t(i,{type:"danger"},{default:e(()=>[E(P(Math.floor(Math.random()*100))+" ",1),t(d)]),_:1})])])])]),_:1},8,["style"])]),_:1},8,["loading"])}}},D=F(J,[["__scopeId","data-v-9d2e1462"]]),K={__name:"publicOpinion",setup(u){return(_,p)=>{const n=a("a-grid-item"),r=a("a-grid"),l=a("a-card");return v(),S(l,{class:"general-card",title:"\u6D41\u91CF\u6570\u636E","header-style":"{ paddingBottom: '12px' }"},{default:e(()=>[t(r,{cols:24,"col-gap":12,"row-gap":12},{default:e(()=>[t(n,{span:{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12}},{default:e(()=>[t(D,{title:"\u6D4F\u89C8\u91CF(PV)",quota:"PV","chart-type":"line","card-style":"background:linear-gradient(180deg, #f2f9fe 0%, #e6f4fe 100%)"})]),_:1}),t(n,{span:{xs:12,sm:12,md:12,lg:12,xl:12,xxl:12}},{default:e(()=>[t(D,{title:"\u8BBF\u95EE\u5BA2\u6570(UV)",quota:"UV","chart-type":"bar","card-style":"background:linear-gradient(180deg, #F5FEF2 0%, #E6FEEE 100%)"})]),_:1})]),_:1})]),_:1})}}},Q=E(" \u7528\u6237\u91CF\u7EDF\u8BA1 "),X={__name:"contentPublishRatio",setup(u){const _=i=>i.map(d=>`<div class="content-panel">
  <p>
    <span style="background-color: ${d.color}" class="tooltip-item-icon"></span>
    <span>
    ${d.seriesName}
    </span>
  </p>
  <span class="tooltip-value">
    ${Number(d.value).toLocaleString()}
  </span>
</div>`).join(""),{loading:p,setLoading:n}=C(!0),r=f([]),l=f([]),c=f([]),{chartOption:x}=k(()=>({grid:{left:"4%",right:0,top:"20",bottom:"60"},legend:{bottom:0,icon:"circle",textStyle:{color:"#4E5969"}},xAxis:{type:"category",data:r.value,axisLine:{lineStyle:{color:"#A9AEB8"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#86909C"}},axisLabel:{color:"#86909C"}},yAxis:{type:"value",scale:!0,axisLabel:{color:"#86909C"},splitLine:{lineStyle:{color:"#E5E6EB"}}},tooltip:{show:!0,trigger:"axis",formatter(i){const[d]=i;return`<div>
          <p class="tooltip-title">${d.axisValueLabel}</p>
          ${_(i)}
        </div>`},className:"echarts-tooltip-diy"},series:[{name:"\u65B0\u7528\u6237\u6570",data:l.value,stack:"one",type:"bar",barWidth:16,color:"#246EFF"},{name:"\u8001\u7528\u6237\u6570",data:c.value,stack:"one",type:"bar",color:"#81E2FF",itemStyle:{borderRadius:2}}]}));return(async()=>{n(!0);try{const i=await z();r.value=i[0].x,l.value=i[0].y,c.value=i[1].y}catch{}finally{n(!1)}})(),(i,d)=>{const w=a("Chart"),o=a("a-card"),s=a("a-spin");return v(),S(s,{loading:b(p),style:{width:"100%"}},{default:e(()=>[t(o,{class:"general-card","header-style":{paddingBottom:"14px"}},{title:e(()=>[Q]),default:e(()=>[t(w,{style:{width:"100%",height:"347px"},option:b(x)},null,8,["option"])]),_:1})]),_:1},8,["loading"])}}},Y=E("%"),tt=T({__name:"chainChat",props:{title:{type:String,default:""},quota:{type:String,default:""}},setup(u){const _=u,p=o=>o.map(s=>`<div class="content-panel">
        <p>
          <span style="background-color: ${s.color}" class="tooltip-item-icon"></span><span>${s.seriesName}</span>
        </p>
        <span class="tooltip-value">${s.value.toLocaleString()}</span>
      </div>`).reverse().join(""),{loading:n,setLoading:r}=C(!0),l=f([]),c=f([]),x=f(""),h=f(0),i=(o,s,m,$)=>({name:o,data:$,stack:"Total",type:"line",smooth:!0,symbol:"circle",symbolSize:10,itemStyle:{color:s},emphasis:{focus:"series",itemStyle:{color:s,borderWidth:2,borderColor:m}},lineStyle:{width:2,color:s},showSymbol:!1,areaStyle:{opacity:.1,color:s}}),{chartOption:d}=k(o=>({grid:{left:44,right:20,top:10,bottom:20},xAxis:{type:"category",offset:2,data:l.value,boundaryGap:!1,axisLabel:{color:"#4E5969",show:!0,formatter(s,m){return m===0||m===l.value.length-1?"":`${s}`}},axisLine:{onZero:!1,show:!1},axisTick:{show:!1},splitLine:{show:!1},axisPointer:{show:!0,lineStyle:{color:"#23ADFF",width:2}}},yAxis:{type:"value",axisLine:{onZero:!1,show:!1},axisLabel:{show:!0,color:"#4E5969"},splitLine:{lineStyle:{color:o?"#2E2E30":"#F2F3F5"}}},tooltip:{trigger:"axis",formatter(s){const[m]=s;return`<div>
            <p class="tooltip-title">${m.axisValueLabel}</p>
            ${p(s)}
          </div>`},className:"echarts-tooltip-diy"},series:[i(x.value,"#722ED1","#F5E8FF",c.value)]}));return(async()=>{r(!0);try{const o=_.quota==="PV"?await R():_.quota==="UV"?await j():await W();l.value=o.x,c.value=o.y,x.value=o.name,o.diff?h.value=o.diff:h.value=0}catch{}finally{r(!1)}})(),(o,s)=>{const m=a("icon-arrow-rise"),$=a("a-statistic"),B=a("Chart"),q=a("a-card"),A=a("a-spin");return v(),S(A,{loading:b(n),style:{width:"100%"}},{default:e(()=>[t(q,{class:"general-card",title:_.title,"header-style":{paddingBottom:"12px",margin:"10px"}},{extra:e(()=>[t($,{extra:"\u8F83\u4E00\u5468\u4E4B\u524D",value:h.value,precision:2,"value-style":{color:"#0fbf60"}},{prefix:e(()=>[t(m)]),suffix:e(()=>[Y]),_:1},8,["value"])]),default:e(()=>[t(B,{style:{height:"328px","margin-top":"20px"},option:b(d),autoresize:""},null,8,["option"])]),_:1},8,["title"])]),_:1},8,["loading"])}}});const L=F(tt,[["__scopeId","data-v-783b17a3"]]),et={__name:"dataChainGrowth",setup(u){return(_,p)=>{const n=a("a-grid-item"),r=a("a-grid");return v(),V("div",null,[t(r,{gutter:16,cols:{xs:1,sm:2,md:3}},{default:e(()=>[t(n,null,{default:e(()=>[t(L,{title:"\u8BBF\u5BA2\u91CF\u8D8B\u52BF",quota:"PVTrends","chart-type":"line"})]),_:1}),t(n,null,{default:e(()=>[t(L,{title:"\u9875\u9762\u6D4F\u89C8\u91CF\u8D8B\u52BF",quota:"UVTrends","chart-type":"line"})]),_:1}),t(n,null,{default:e(()=>[t(L,{title:"\u7528\u6237\u5E73\u5747\u505C\u7559\u65F6\u957F",quota:"UserRetentionAverageTime","chart-type":"bar"})]),_:1})]),_:1})])}}};const at={class:"container"},ot={class:"space-unit"},nt={__name:"index",setup(u){return(_,p)=>{const n=a("Breadcrumb"),r=a("a-grid-item"),l=a("a-grid"),c=a("a-space");return v(),V("div",at,[t(n,{items:["\u7528\u6237","\u7528\u6237\u6982\u89C8"]}),t(c,{direction:"vertical",size:12,fill:""},{default:e(()=>[t(c,{direction:"vertical",size:16,fill:""},{default:e(()=>[g("div",ot,[t(K)]),g("div",null,[t(l,{cols:24,"col-gap":16,"row-gap":16},{default:e(()=>[t(r,{span:{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24}},{default:e(()=>[t(X)]),_:1})]),_:1})]),g("div",null,[t(et)]),g("div",null,[t(N)])]),_:1})]),_:1})])}}},_t=F(nt,[["__scopeId","data-v-c84cf4fb"]]);export{_t as default};
