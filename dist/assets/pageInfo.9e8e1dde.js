import{u as j}from"./loading.5b8c1ce5.js";import{b as G}from"./performance.18e3777e.js";import{_ as V,e,f as r,l as y,g as t,w as a,k as v,m as x,i as b,aE as m,aF as k,d as h,aH as H,aG as O,b as i,q as M}from"./index.fee0a898.js";const U={id:"ratio-line"},J={__name:"ratioLine",props:{data:{type:Object,default(){return[]}}},setup(D){const u=D;return(C,w)=>{const l=e("a-typography-text"),f=e("a-col"),g=e("a-tooltip");return r(),y(m,null,[t(l,{class:"line-title"},{default:a(()=>[v(x(u.data.type),1)]),_:1}),b("div",U,[(r(!0),y(m,null,k(u.data.data,(p,d)=>(r(),h(g,{key:d,content:p.name},{default:a(()=>[t(f,{class:H(["line-item",`color-style-${d}`]),flex:p.value},null,8,["class","flex"])]),_:2},1032,["content"]))),128))])],64)}}},K=V(J,[["__scopeId","data-v-e984c05e"]]);const Q={class:"container"},W=v(x("\u9519\u8BEF\u7EDF\u8BA1")),X=v(x("\u67E5\u770B\u66F4\u591A")),Y=v(x("\u8BBF\u95EE\u4FE1\u606F")),Z={__name:"pageInfo",setup(D){const{fdURL:u}=O.currentRoute.value.params,{loading:C,setLoading:w}=j(),l=i([]),f=i([]),g=i([]),p=i([]),d=i(0),q=({titleText:n,xData:o,contentData:s})=>({title:{text:n,show:!0,textStyle:{fontSize:18}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:[{type:"category",data:o}],yAxis:[{type:"value"}],series:[{name:"count",type:"line",data:s}]}),z=i({title:{text:"\u9875\u9762\u6027\u80FD"},tooltip:{trigger:"item"},legend:{top:"5%",left:"right",orient:"vertical"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,emphasis:{label:{show:!0}},data:f}]}),A=()=>{O.push({path:"/error",query:{fdURL:u}})};function E(n,o){const s=new Map;return n.filter(c=>!s.has(c[o])&&s.set(c[o],1))}return(async()=>{try{w(!0);let n=[];l.value=await G(u),f.value=l.value.webVitals,p.value=l.value.chartData,n=l.value.tagsData,d.value=l.value.errorCount,["browser","os","device"].forEach(o=>{g.value.push({type:o,data:E(n,o).map(s=>({name:s[o],value:n.filter(c=>c[o]===s[o]).length}))})})}catch{}finally{w(!1)}})(),(n,o)=>{const s=e("Breadcrumb"),c=e("Chart"),L=e("a-grid-item"),R=e("a-grid"),B=e("a-col"),I=e("a-typography-title"),F=e("icon-arrow-rise"),N=e("a-statistic"),P=e("a-link"),S=e("a-row"),T=e("a-card"),$=e("a-spin");return r(),h($,{loading:M(C),style:{width:"100%"}},{default:a(()=>[b("div",Q,[t(s,{items:["\u6027\u80FD","\u9875\u9762\u6027\u80FD","\u9875\u9762\u4FE1\u606F"]}),t(T,{bordered:!1,style:{borderRadius:"5px",width:"100%"}},{default:a(()=>[t(S,{gutter:30},{default:a(()=>[t(B,{sm:24,lg:18},{default:a(()=>[t(R,{cols:{xs:1,sm:1,md:1,lg:1,xl:1,xxl:2},"col-gap":12,"row-gap":16},{default:a(()=>[(r(!0),y(m,null,k(p.value,_=>(r(),h(L,{key:_==null?void 0:_.titleText},{default:a(()=>[t(c,{option:q(_),style:{width:"auto",height:"400px"},"auto-resize":!0},null,8,["option"])]),_:2},1024))),128)),t(L,null,{default:a(()=>[t(c,{option:z.value,style:{width:"auto",height:"400px"},"auto-resize":!0},null,8,["option"])]),_:1})]),_:1})]),_:1}),t(B,{xs:24,sm:24,lg:6},{default:a(()=>[b("div",null,[t(I,{heading:5,bold:"true"},{default:a(()=>[W]),_:1}),t(N,{title:"",value:d.value,"show-group-separator":""},{suffix:a(()=>[t(F,{style:{color:"red"}})]),_:1},8,["value"]),t(P,{onClick:A},{default:a(()=>[X]),_:1}),t(I,{heading:5,bold:"true"},{default:a(()=>[Y]),_:1}),(r(!0),y(m,null,k(g.value,_=>(r(),h(K,{key:_,data:_},null,8,["data"]))),128))])]),_:1})]),_:1})]),_:1})])]),_:1},8,["loading"])}}},nt=V(Z,[["__scopeId","data-v-92d6bf56"]]);export{nt as default};
